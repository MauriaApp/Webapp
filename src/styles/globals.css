@import "tailwindcss";
@import "./safe-area.css";

@plugin 'tailwindcss-animate';

@custom-variant dark (&:is(.dark *, .oled *));
@custom-variant oled (&:is(.oled *));

@utility container {
    margin-inline: auto;
    padding-inline: 2rem;
    @media (width >= --theme(--breakpoint-sm)) {
        max-width: none;
    }
    @media (width >= 1400px) {
        max-width: 1400px;
    }
}

@layer base {
    html {
        overscroll-behavior: none;
    }
    :root {
        --safe-area-top: 50px;
        --safe-area-bottom: 30px;
        --safe-area-left: env(safe-area-inset-left, 0px);
        --safe-area-right: env(safe-area-inset-right, 0px);

        --mauria-scale: 1;

        --background: 40 33% 98%;
        --foreground: 222 47% 11%;

        --card: 0 0% 100%;
        --card-foreground: 222 47% 11%;

        --popover: 0 0% 100%;
        --popover-foreground: 222 47% 11%;

        --primary: 262 38% 19%;
        --primary-foreground: 210 40% 98%;

        --secondary: 210 40% 96%;
        --secondary-foreground: 222 47% 11%;

        --muted: 210 40% 96%;
        --muted-foreground: 215 16% 47%;

        --accent: 24 88% 58%;
        --accent-foreground: 222 47% 11%;

        --destructive: 0 84% 60%;
        --destructive-foreground: 210 40% 98%;

        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 222 84% 4%;

        --radius: 0.5rem;

        --mauria-bg: 50 43% 97%;
        --mauria-card: 0 0% 100%;
        --mauria-accent: 24 88% 58%;
        --mauria-alert: 0 100% 95%;
        --mauria-border: 220 13% 91%;
        --mauria-purple: 262 38% 19%;
        --mauria-text: 220 26% 18%;

        --mauria-white: 0 0% 100%;
        --mauria-black: 0 0% 0%;
        --mauria-accent-dark: 13 45% 48%;
        --mauria-purple-soft: 268 33% 25%;
        --mauria-purple-bright: 258 34% 36%;
        --mauria-purple-light: 257 32% 48%;
        --mauria-green: 123 39% 49%;
        --mauria-green-dark: 123 46% 34%;
        --mauria-green-soft: 123 38% 64%;
        --mauria-planning-slot-border: 18 8% 66% / 0.27;
        --mauria-planning-today: 16 70% 80% / 0.25;
        --mauria-particles: 14 84% 60%;
        --mauria-meteor-glow: 0 0% 100% / 0.06;
        --mauria-chart-line: 210 16% 84%;

        --planning-button-text: hsl(var(--mauria-purple));
        --planning-button-background: hsl(var(--mauria-card));
        --planning-button-shadow: 0 12px 32px hsl(var(--mauria-purple) / 0.2);
        --planning-button-active-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-accent)),
            hsl(var(--mauria-accent-dark))
        );
        --planning-button-active-shadow: 0 12px 24px hsl(
            var(--mauria-accent) / 0.24
        );
        --planning-button-active-text: hsl(var(--mauria-white));

        --planning-grid-background: hsl(var(--mauria-card));
        --planning-slot-border-color: hsl(var(--mauria-planning-slot-border));
        --planning-today-background: hsl(var(--mauria-planning-today));

        --planning-event-default-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-purple)),
            hsl(var(--mauria-purple-soft))
        );
        --planning-event-default-shadow: 0 16px 32px hsl(
            var(--mauria-purple) / 0.24
        );
        --planning-event-default-text: hsl(var(--mauria-white));
        --planning-event-default-solid: hsl(var(--mauria-purple-soft));

        --planning-event-epreuve-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-accent)),
            hsl(var(--mauria-accent-dark))
        );
        --planning-event-epreuve-shadow: 0 16px 32px hsl(
            var(--mauria-accent) / 0.24
        );
        --planning-event-epreuve-text: hsl(var(--mauria-white));

        --planning-event-personal-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-green)),
            hsl(var(--mauria-green-dark))
        );
        --planning-event-personal-shadow: 0 16px 32px hsl(
            var(--mauria-green) / 0.24
        );
        --planning-event-personal-text: hsl(var(--mauria-white));

        --planning-event-autogere-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-green)),
            hsl(var(--mauria-green-dark))
        );
        --planning-event-autogere-shadow: 0 16px 32px hsl(
            var(--mauria-green) / 0.24
        );
        --planning-event-autogere-text: hsl(var(--mauria-white));

        --particles-color: hsl(var(--mauria-particles));
        --meteors-trail-glow: hsl(var(--mauria-meteor-glow));
        --chart-grid-stroke: hsl(var(--mauria-chart-line));
        --chart-dot-stroke: transparent;
        --bubble-color-first: 119, 60, 221;
        --bubble-color-second: 165, 92, 214;
        --bubble-color-third: 75, 36, 143;
        --bubble-color-fourth: 242, 129, 54;
        --bubble-color-fifth: 252, 194, 156;
        --bubble-color-sixth: 135, 90, 242;

        font-size: calc(16px * var(--mauria-scale));
    }

    .dark {
        --background: 262 38% 19%;
        --foreground: 210 40% 98%;

        --card: 262 32% 25%;
        --card-foreground: 210 40% 98%;

        --popover: 262 32% 25%;
        --popover-foreground: 210 40% 98%;

        --primary: 210 40% 98%;
        --primary-foreground: 222 47% 11%;

        --secondary: 210 0% 50%;
        --secondary-foreground: 210 40% 98%;

        --muted: 210 0% 50%;
        --muted-foreground: 215 20% 65%;

        --accent: 24 88% 58%;
        --accent-foreground: 210 40% 98%;

        --destructive: 0 63% 31%;
        --destructive-foreground: 210 40% 98%;

        --border: 210 0% 50%;
        --input: 210 0% 50%;
        --ring: 212.7 26.8% 83.9%;

        --mauria-bg: 261 38% 19%;
        --mauria-card: 261 32% 25%;
        --mauria-accent: 24 88% 58%;
        --mauria-alert: 15 42% 48%;
        --mauria-border: 261 32% 25%;
        --mauria-purple: 262 38% 30%;
        --mauria-text: 220 14% 96%;

        --mauria-white: 0 0% 100%;
        --mauria-black: 0 0% 0%;
        --mauria-accent-dark: 13 45% 48%;
        --mauria-purple-soft: 257 32% 35%;
        --mauria-purple-bright: 258 34% 45%;
        --mauria-purple-light: 256 32% 55%;
        --mauria-green: 123 45% 45%;
        --mauria-green-dark: 123 46% 34%;
        --mauria-green-soft: 123 38% 58%;
        --mauria-planning-slot-border: 264 19% 38% / 0.35;
        --mauria-planning-today: 16 70% 80% / 0.18;
        --mauria-particles: 14 84% 60%;
        --mauria-meteor-glow: 0 0% 100% / 0.12;
        --mauria-chart-line: 262 20% 40%;

        --planning-button-text: hsl(var(--mauria-white));
        --planning-grid-background: hsl(var(--mauria-white) / 0.08);

        --planning-event-default-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-purple-bright)),
            hsl(var(--mauria-purple-light))
        );
        --planning-event-default-shadow: 0 16px 32px hsl(
            var(--mauria-black) / 0.24
        );
        --planning-event-default-solid: hsl(var(--mauria-purple-bright));

        --planning-event-autogere-gradient: linear-gradient(
            45deg,
            hsl(var(--mauria-green-soft)),
            hsl(var(--mauria-green))
        );
    }
    .oled {
        color-scheme: dark;

        --background: 0 0% 0%;
        --foreground: 210 8% 88%;

        --card: 0 0% 6%;
        --card-foreground: 210 8% 88%;

        --popover: 0 0% 6%;
        --popover-foreground: 210 8% 88%;

        --primary: 0 0% 82%;
        --primary-foreground: 0 0% 6%;

        --secondary: 0 0% 12%;
        --secondary-foreground: 0 0% 82%;

        --muted: 0 0% 16%;
        --muted-foreground: 0 0% 62%;

        --accent: 0 0% 20%;
        --accent-foreground: 0 0% 92%;

        --destructive: 2 65% 46%;
        --destructive-foreground: 0 0% 96%;

        --border: 0 0% 14%;
        --input: 0 0% 14%;
        --ring: 0 0% 40%;

        --mauria-bg: 0 0% 0%;
        --mauria-card: 0 0% 6%;
        --mauria-accent: 18 70% 48%;
        --mauria-alert: 0 0% 12%;
        --mauria-border: 0 0% 18%;
        --mauria-purple: 262 26% 68%;
        --mauria-text: 210 8% 88%;

        --mauria-white: 0 0% 100%;
        --mauria-black: 0 0% 0%;
        --mauria-accent-dark: 18 62% 34%;
        --mauria-purple-soft: 262 24% 50%;
        --mauria-purple-bright: 262 30% 58%;
        --mauria-purple-light: 262 32% 66%;
        --mauria-green: 155 32% 32%;
        --mauria-green-dark: 155 34% 24%;
        --mauria-green-soft: 155 28% 36%;
        --mauria-planning-slot-border: 0 0% 28% / 0.55;
        --mauria-planning-today: 0 0% 18% / 0.45;
        --mauria-particles: 0 0% 38%;
        --mauria-meteor-glow: 0 0% 100% / 0.08;
        --mauria-chart-line: 0 0% 30%;

        --planning-button-text: hsl(var(--mauria-white));
        --planning-button-background: hsl(0 0% 8%);
        --planning-button-shadow: 0 20px 40px hsl(0 0% 0% / 0.45);
        --planning-button-active-gradient: linear-gradient(
            45deg,
            hsl(0 0% 16%),
            hsl(0 0% 10%)
        );
        --planning-button-active-shadow: 0 20px 36px hsl(0 0% 0% / 0.55);
        --planning-button-active-text: hsl(var(--mauria-white));

        --planning-grid-background: hsl(0 0% 0%);
        --planning-slot-border-color: hsl(0 0% 28% / 0.6);
        --planning-today-background: hsl(0 0% 28% / 0.35);

        --planning-event-default-gradient: linear-gradient(
            45deg,
            hsl(0 0% 26%),
            hsl(0 0% 16%)
        );
        --planning-event-default-shadow: 0 18px 36px hsl(0 0% 0% / 0.45);
        --planning-event-default-text: hsl(var(--mauria-white));
        --planning-event-default-solid: hsl(0 0% 22%);

        --planning-event-epreuve-gradient: linear-gradient(
            45deg,
            hsl(18 70% 32%),
            hsl(18 68% 24%)
        );
        --planning-event-epreuve-shadow: 0 18px 36px hsl(18 64% 20% / 0.6);
        --planning-event-epreuve-text: hsl(18 72% 72%);

        --planning-event-personal-gradient: linear-gradient(
            45deg,
            hsl(155 36% 28%),
            hsl(155 34% 20%)
        );
        --planning-event-personal-shadow: 0 18px 36px hsl(155 28% 18% / 0.55);
        --planning-event-personal-text: hsl(155 46% 70%);

        --planning-event-autogere-gradient: linear-gradient(
            45deg,
            hsl(0 0% 24%),
            hsl(0 0% 16%)
        );
        --planning-event-autogere-shadow: 0 18px 36px hsl(0 0% 0% / 0.5);
        --planning-event-autogere-text: hsl(var(--mauria-white));

        --particles-color: hsl(0 0% 35%);
        --meteors-trail-glow: hsl(0 0% 100% / 0.08);
        --chart-grid-stroke: hsl(0 0% 26%);
        --chart-dot-stroke: transparent;
        --bubble-color-first: 32, 32, 32;
        --bubble-color-second: 54, 54, 54;
        --bubble-color-third: 20, 20, 20;
        --bubble-color-fourth: 44, 44, 44;
        --bubble-color-fifth: 70, 70, 70;
        --bubble-color-sixth: 16, 16, 16;
    }
    .theme {
        --animate-meteor-effect: meteor 5s linear infinite;
    }
}

@layer base {
    * {
        @apply border-mauria-border;
    }
    body {
        @apply bg-background text-foreground;
        overscroll-behavior: none;
    }
    .oled .bg-mauria-accent {
        background-color: hsl(0 0% 18%) !important;
        color: hsl(var(--mauria-white));
    }
    .oled .bg-mauria-accent\/20 {
        background-color: hsl(0 0% 16% / 0.65) !important;
    }
}

/*
  react-simple-pull-to-refresh: prevent content from appearing under an invisible layer
  when the children are translated during pull. Allow the wrapper to overflow visibly
  so the translated content isnâ€™t clipped by the container.
*/
.ptr {
    overflow: visible !important;
}

@theme {
    --color-border: hsl(var(--border));
    --color-input: hsl(var(--input));
    --color-ring: hsl(var(--ring));
    --color-background: hsl(var(--background));
    --color-foreground: hsl(var(--foreground));

    --color-primary: hsl(var(--primary));
    --color-primary-foreground: hsl(var(--primary-foreground));

    --color-secondary: hsl(var(--secondary));
    --color-secondary-foreground: hsl(var(--secondary-foreground));

    --color-destructive: hsl(var(--destructive));
    --color-destructive-foreground: hsl(var(--destructive-foreground));

    --color-muted: hsl(var(--muted));
    --color-muted-foreground: hsl(var(--muted-foreground));

    --color-accent: hsl(var(--accent));
    --color-accent-foreground: hsl(var(--accent-foreground));

    --color-popover: hsl(var(--popover));
    --color-popover-foreground: hsl(var(--popover-foreground));

    --color-card: hsl(var(--card));
    --color-card-foreground: hsl(var(--card-foreground));

    --color-mauria-bg: hsl(var(--mauria-bg));
    --color-mauria-card: hsl(var(--mauria-card));
    --color-mauria-accent: hsl(var(--mauria-accent));
    --color-mauria-alert: hsl(var(--mauria-alert));
    --color-mauria-border: hsl(var(--mauria-border));
    --color-mauria-purple: hsl(var(--mauria-purple));
    --color-mauria-text: hsl(var(--mauria-text));
    --color-mauria-white: hsl(var(--mauria-white));
    --color-mauria-black: hsl(var(--mauria-black));
    --color-mauria-accent-dark: hsl(var(--mauria-accent-dark));
    --color-mauria-purple-soft: hsl(var(--mauria-purple-soft));
    --color-mauria-purple-bright: hsl(var(--mauria-purple-bright));
    --color-mauria-purple-light: hsl(var(--mauria-purple-light));
    --color-mauria-green: hsl(var(--mauria-green));
    --color-mauria-green-dark: hsl(var(--mauria-green-dark));
    --color-mauria-green-soft: hsl(var(--mauria-green-soft));
    --color-mauria-planning-slot-border: hsl(
        var(--mauria-planning-slot-border)
    );
    --color-mauria-planning-today: hsl(var(--mauria-planning-today));
    --color-mauria-particles: hsl(var(--mauria-particles));
    --color-mauria-meteor-glow: hsl(var(--mauria-meteor-glow));
    --color-mauria-chart-line: hsl(var(--mauria-chart-line));

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --animate-accordion-down: accordion-down 0.2s ease-out;
    --animate-accordion-up: accordion-up 0.2s ease-out;
    --animate-meteor: meteor 5s linear infinite;

    @keyframes accordion-down {
        from {
            height: 0;
        }
        to {
            height: var(--radix-accordion-content-height);
        }
    }
    @keyframes accordion-up {
        from {
            height: var(--radix-accordion-content-height);
        }
        to {
            height: 0;
        }
    }
    @keyframes meteor {
        0% {
            transform: rotate(var(--angle)) translateX(0);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        70% {
            opacity: 1;
        }
        100% {
            transform: rotate(var(--angle)) translateX(-500px);
            opacity: 0;
        }
    }
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentcolor);
    }
}
